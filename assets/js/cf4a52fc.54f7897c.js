"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[2977],{1725:e=>{e.exports=JSON.parse('{"archive":{"blogPosts":[{"id":"20240808-daily-journal","metadata":{"permalink":"/journal/20240808-daily-journal","source":"@site/../journal/20240808-daily-journal.md","title":"2024-08-08 Daily Journal","description":"Today has been a rollerposter of unexpectedness. At work I was working on a proposal to implement a mechanism to prevent normal pods  from scheduling to our K8s clusters before all of our critical daemonsets are ready. I drafted the proposal yesterday and presented it today. It went fine as is. It was pretty simple actually. We decided to use startupTaints on our Karpentor nodepools for each required daemonset and then made the daemonset responsible for removing the said taint ones it becomes ready.","date":"2024-08-16T10:18:29.000Z","tags":[{"inline":true,"label":"2024-08","permalink":"/journal/tags/2024-08"},{"inline":true,"label":"2024","permalink":"/journal/tags/2024"},{"inline":true,"label":"journal","permalink":"/journal/tags/journal"},{"inline":true,"label":"daily","permalink":"/journal/tags/daily"}],"readingTime":1.14,"hasTruncateMarker":true,"authors":[{"name":"Poswal Umesh","title":"Maintainer of nakamorg","url":"https://github.com/nakamume","imageURL":"https://github.com/nakamume.png","key":"umesh"}],"frontMatter":{"title":"2024-08-08 Daily Journal","slug":"20240808-daily-journal","authors":["umesh"],"tags":["2024-08","2024","journal","daily"],"hide_table_of_contents":false},"unlisted":false,"nextItem":{"title":"2024-08-09 Daily Journal","permalink":"/journal/20240809-daily-journal"}},"content":"Today has been a rollerposter of unexpectedness. At work I was working on a proposal to implement a mechanism to prevent normal pods \x3c!-- truncate --\x3e from scheduling to our K8s clusters before all of our critical daemonsets are ready. I drafted the proposal yesterday and presented it today. It went fine as is. It was pretty simple actually. We decided to use **startupTaints** on our Karpentor nodepools for each required daemonset and then made the daemonset responsible for removing the said taint ones it becomes ready.\\n\\nAs for the personal stuff, I wanted to start with a blog where I could write freely (without going into much details of the things) and about my daily life, routine. I\'ve set up a docusaurus blog previously. I spent some time checking if the **mdbook** would be a good fit this daily journal blog. I fired up a test mdbook book and compared it with docusaurus style blog I had. Docusaurus style felt good to eyes (it looked nice) - so I decided to stick with docusaurus and started a second blog on same docusaurus instance. If you are reading this - you know how to reach this daily blog. I call it *daily blog* but I might not write up daily. As of now though, I feel pretty motivated to write frequently, maybe couple of time a week :grinning:"},{"id":"20240809-daily-journal","metadata":{"permalink":"/journal/20240809-daily-journal","source":"@site/../journal/20240809-daily-journal.md","title":"2024-08-09 Daily Journal","description":"Looks like I am on a streak. Third post within two days. There has been a major earthquake in Kyushu. Fortunately, we didn\'t feel anything in Tokyo and all the friends and family members are keeping safe.","date":"2024-08-16T10:18:29.000Z","tags":[{"inline":true,"label":"2024-08","permalink":"/journal/tags/2024-08"},{"inline":true,"label":"2024","permalink":"/journal/tags/2024"},{"inline":true,"label":"journal","permalink":"/journal/tags/journal"},{"inline":true,"label":"daily","permalink":"/journal/tags/daily"}],"readingTime":1.53,"hasTruncateMarker":true,"authors":[{"name":"Poswal Umesh","title":"Maintainer of nakamorg","url":"https://github.com/nakamume","imageURL":"https://github.com/nakamume.png","key":"umesh"}],"frontMatter":{"title":"2024-08-09 Daily Journal","slug":"20240809-daily-journal","authors":["umesh"],"tags":["2024-08","2024","journal","daily"],"hide_table_of_contents":true},"unlisted":false,"prevItem":{"title":"2024-08-08 Daily Journal","permalink":"/journal/20240808-daily-journal"},"nextItem":{"title":"2024-08-15 Daily Journal","permalink":"/journal/20240815-daily-journal"}},"content":"Looks like I am on a streak. Third post within two days. There has been a major earthquake\x3c!-- truncate --\x3e in Kyushu. Fortunately, we didn\'t feel anything in Tokyo and all the friends and family members are keeping safe.\\n\\nTachan\'s first birthday is approaching and we are (mostly Maiko) deciding on what cakes to buy and about the decoration items as well. The primary cake has blueish hue and a brown bear (edible) on it and second one is a chocolate cake (again with a brown bear on it). Tachan can\'t eat chocolate as of now.\\n\\nOh well, today I met (online) two colleges from our US office. We mostly talked about how to bootstrap a system at our company. The bootstapping stucture we have is a mess as of now because we are transitioning from legacy cluster and until we move off them, all the changes to the bootstrapping repo needs to be fully backward compatible. There were some major changes in how we handle new and legacy clusters, so it has become a major pain to sustain them together, at least for the end users - as the API we provide them for bootstrapping isn\'t very clean and intuitive.\\n\\nWhile deploying this blog to github pages, I realized that my custom domain settings gets overriden on every deploy. I knew docusaurus deploy only pushes the build content to a specific branch and wasn\'t updating the repo\'s github page settings. After much fumbling, I found that I needed to add a `CNAME` file with an entry for my custom domain to make it work. For docusaurus, it could be achieved with creating a file under `static` folder. Like this (filepath is: **docusaurus/static/CNAME**)\\n```text\\nblog.nakam.org\\n```\\n\\nAny about the earthquake again, Meteorological Agency has issued \\"huge earthquake warning\\". This is gonna be a scare big weekend."},{"id":"20240815-daily-journal","metadata":{"permalink":"/journal/20240815-daily-journal","source":"@site/../journal/20240815-daily-journal.md","title":"2024-08-15 Daily Journal","description":"So the earthquake wasn\'t that severe but there definetely was one around 1945 JST and we experienced something about of magnitude 2-3. I was on the second floor working out and talking to my mon on the phone and rushed down as it came. Maiko came with Tachan in her lap (it\'s out protocol to gather by the main door in the event of a quake). She then gathered all our emergency supplies by the door.","date":"2024-08-16T10:18:29.000Z","tags":[{"inline":true,"label":"2024-08","permalink":"/journal/tags/2024-08"},{"inline":true,"label":"2024","permalink":"/journal/tags/2024"},{"inline":true,"label":"journal","permalink":"/journal/tags/journal"},{"inline":true,"label":"daily","permalink":"/journal/tags/daily"}],"readingTime":2.375,"hasTruncateMarker":true,"authors":[{"name":"Poswal Umesh","title":"Maintainer of nakamorg","url":"https://github.com/nakamume","imageURL":"https://github.com/nakamume.png","key":"umesh"}],"frontMatter":{"title":"2024-08-15 Daily Journal","slug":"20240815-daily-journal","authors":["umesh"],"tags":["2024-08","2024","journal","daily"],"hide_table_of_contents":true},"unlisted":false,"prevItem":{"title":"2024-08-09 Daily Journal","permalink":"/journal/20240809-daily-journal"},"nextItem":{"title":"2024-08-16 Daily Journal","permalink":"/journal/20240816-daily-journal"}},"content":"So the earthquake wasn\'t that severe but there definetely was one around 1945 JST and we\x3c!-- truncate --\x3e experienced something about of magnitude 2-3. I was on the second floor working out and talking to my mon on the phone and rushed down as it came. Maiko came with Tachan in her lap (it\'s out protocol to gather by the main door in the event of a quake). She then gathered all our emergency supplies by the door.\\n\\nWe had little pool party, at home, on Sunday. The water was cold and the weather extremely hot - so it was fun. Tachan enjoyed a lot but he keeps to himself and doesn\'t play with anyone else during these times (maybe all the toys, colorful air pumped pool are too simulating for him).\\n\\nTachan showed eleveted body temperature on Monday but we didn\'t give it much thought. On Tuesday, Maiko had work so I took child care leave. By Tuesday afternoon, his temperature for very noticeable and making him a bit uncomfortable but he was still giggly and playing. By the night he had fever of about `38.3C` and was often crying and didn\'t want to take any solids and didn\'t show much appreciation for the milk but drank anyway (that\'s a relief).\\n\\nMaiko took him to hospital on Wednesday. Doctor mentioned it was something with his stomach which makes Maiko think that it was because of the food I give him whenever I\'m eating but my theory is that it was the cold water during the pool party, I didn\'t tell it Maiko - she organized the pool party. Temperature reached about `39.1` by the night making everyone very uncomfortable. But Tachan was still giggling and playing at times. By the morning today, fever has long down. But there are rashes all over his body. They have increased a bit since morning. So, it seems it was neither the food nor the pool party but the `Roseola` fever all along. Doctor mentioned that it\'s normal after the fever and they should subside by tomorrow.\\n\\n(edit: 2023-08-16) - rashes made him very uncomfortable in the night. He woke up multiple times and cried a lot, making Maiko and I very nervous. She made calls to some of the hospitals, they asked not to come in as an emergency case and rather visit a clinic in the morning if the condition gets more severe. Fortunetely, by the 8 o\'clock in the morning, rashes are gone and he is sleeping like a baby (it\'s 11 o\'clock now).\\n\\nWell, my 2024 H1 performace review came in today. I had a score of `3` and `4`, out of `5`, for impact and competency respectively. Manager says I need to pick up some flagship project and advertise my work more to gain those juicy impact points. Off to 2024 H2 :rocket:"},{"id":"20240816-daily-journal","metadata":{"permalink":"/journal/20240816-daily-journal","source":"@site/../journal/20240816-daily-journal.md","title":"2024-08-16 Daily Journal","description":"Thinking about adding github actions to build and deploy this blog instead of running them on a VM on my machine. For some reason I couldn\'t get myself to install nodejs and npm on my regular workstation. Maybe I should do that as well.","date":"2024-08-16T10:18:29.000Z","tags":[{"inline":true,"label":"2024-08","permalink":"/journal/tags/2024-08"},{"inline":true,"label":"2024","permalink":"/journal/tags/2024"},{"inline":true,"label":"journal","permalink":"/journal/tags/journal"},{"inline":true,"label":"daily","permalink":"/journal/tags/daily"}],"readingTime":1.82,"hasTruncateMarker":true,"authors":[{"name":"Poswal Umesh","title":"Maintainer of nakamorg","url":"https://github.com/nakamume","imageURL":"https://github.com/nakamume.png","key":"umesh"}],"frontMatter":{"title":"2024-08-16 Daily Journal","slug":"20240816-daily-journal","authors":["umesh"],"tags":["2024-08","2024","journal","daily"],"hide_table_of_contents":true},"unlisted":false,"prevItem":{"title":"2024-08-15 Daily Journal","permalink":"/journal/20240815-daily-journal"}},"content":"Thinking about adding github actions to build and deploy this blog instead of running them on a VM on my machine. For some reason\x3c!-- truncate --\x3e I couldn\'t get myself to install nodejs and npm on my regular workstation. Maybe I should do that as well.\\n\\nBut for the time being I\'m going to try my luck with github actions. Just added a github workflow file and pushing this blog file to master should trigger that. So, let get triggering!\\n\\nSo, that worked. But only halfway. The last step `npm run deploy` failed asking for my github username or specifying using ssh key. I was hoping that it would know how to push the changes as it was already running in github action. Let\'s see if `Claude Opus` can help us figure this out. After multiple back and forth it suggested to use this snippet\\n```yaml\\n- name: Deploy\\n    run: |\\n    npm run deploy\\n    working-directory: docusaurus\\n    env:\\n    GIT_USER: github-actions\\n    GIT_PASS: ${{ secrets.GITHUB_TOKEN }}\\n```\\nI think it should work. I\'m just not confident about the `GIT_USER` part. Should I use my github username there instead? Anyways, let\'s try pushing and see how it goes.\\n\\nThe action run was succesful but it still didn\'t deploy, complaining about setting git user email and stuff. So, let\'s try with\\n\\n```yaml\\n- name: Deploy\\n  run: |\\n    git config --global user.email \\"${{ github.actor }}@users.noreply.github.com\\"\\n    git config --global user.name \\"${{ github.actor }}\\"\\n    npm run deploy\\n  working-directory: docusaurus\\n  env:\\n    GIT_USER: ${{ github.actor }}\\n    GIT_PASS: ${{ secrets.GITHUB_TOKEN }}\\n```\\n\\nThat was it. The blog is \\"on\\" now. All I have to do is write and push to master and github will take care of build, deploy and hosting. Good times. One more thing though, I\'m not sure if the caching for node modules is working. Initial runs of `npm ci` took about 10 secs and the latest one with a cache hit took 6 secs - so maybe it\'s working? Maybe I can try doing `ls node_modules` in the github action and see or maybe there are other better options? But let\'s do that some other time. It\'s almost 19:18 and I need to get off working and start my work out."}]}}')}}]);